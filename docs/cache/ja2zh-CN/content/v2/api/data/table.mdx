---
title: 表格
slug: zh-CN/v2/api/data/table
---

import Badge from "~/components/zh-CN/Badge.astro";

`Table` 是一个表示记录 ID 表格名称的类。

### 导入

```ts
import { Table } from "@tai-kun/surrealdb/decodeonly-datatypes";
import { Table } from "@tai-kun/surrealdb/encodable-datatypes";
import { Table } from "@tai-kun/surrealdb/standard-datatypes";
```

### `.constructor()`

创建一个新的 `Table` 对象。

```ts
new Table(source: string); // decode-only, encodable
new Table(source: string | { name: string }); // standard
```

#### 参数

##### `source`

表格名称或 `Table` 对象。如果预设低于 standard，则只能传递表格名称。

#### 返回值

如果通过 `new` 调用，`Table` 将返回其实例。

### `.name` <Badge variant="instance" /><Badge variant="property" /><Badge variant="decodeonly" />

表格名称。获取此属性时，字符串不会被转义。

```ts
.name: string;
```

#### 例子

获取此属性时，字符串不会被转义。

```ts
import { Table } from "@tai-kun/surrealdb/decodeonly-datatypes";

const table = new Table("foo-bar");
console.log(table.name);
//-> foo-bar
```

### `.toString()` <Badge variant="instance" /><Badge variant="method" /><Badge variant="encodable" />

将 `Table` 对象转换为可在 SurrealQL 中使用的字符串变量。

`.valueOf()` 和 `.toJSON()` 会返回与该方法相同的结果。

```ts
.toString(): string;
```

#### 参数

无。

#### 返回值

返回表格名称。

#### 例子

```ts
import { Table } from "@tai-kun/surrealdb/encodable-datatypes";

const table = new Table("foo-bar");
console.log(table.toString());
//-> foo-bar
```

### `.toSurql()` <Badge variant="instance" /><Badge variant="method" /><Badge variant="encodable" />

将 `Table` 对象转换为可以嵌入 SurrealQL 的字符串。与 `.toString()` 相似，但表格名称会像 SurrealDB 的实现一样被转义。

```ts
.toSurql(): string;
```

#### 参数

无。

#### 返回值

返回转义后的表格名称字符串。

#### 例子

```ts
import { Table } from "@tai-kun/surrealdb/encodable-datatypes";

const table = new Table("foo-bar");
console.log(table.toSurql());
//-> `foo-bar`
```

### `.clone()` <Badge variant="instance" /><Badge variant="method" /><Badge variant="standard" />

复制 `Table` 对象。

```ts
.clone(): this;
```

#### 参数

无。

#### 返回值

返回一个新的 `Table` 对象。如果继承了 `Table` 类，则会返回该类的实例。

### 进阶

#### 类型守卫

可以使用类型参数来使 `Table` 的表格名称类型安全：

```ts
import { Table } from "@tai-kun/surrealdb/standard-datatypes";

function isUserTable(table: unknown): table is Table<"user"> {
  return table instanceof Table
    && table.name === "user"
}
```

#### `Table` 对象的通用判定

建议使用 `isTable` 函数来判断一个值是否为 `Table` 对象，而无需依赖预设。该函数不使用 `instanceof`，因此当验证值的预设未知时非常有用。

```ts
import { isTable } from "@tai-kun/surrealdb";
```
