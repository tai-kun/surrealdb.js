---
title: toSurql
slug: zh-CN/v2/api/utils/to-surql
---

`toSurql` 函数用于将 JavaScript 值转换为 SurrealQL 字符串。

### 导入

```ts
import { toSurql } from "@tai-kun/surrealdb/utils";
```

### 使用方法

```ts
function toSurql(value: unlnown): string;
```

#### 参数

##### `value`

JavaScript 值，可以接受以下类型的值：

- `string`
- `number`
- `bigint`
- `boolean`
- `undefined`
- `null`
- `{ toSurql(): string }`
- `Date`
- `{ toJSON(): string }`
- `unknown[]`
- `{ [key: string]: unknown }`
- `Set<unknown>`
- `Map<unknown, unknown>`

`unknown` 代表由上述类型组成的值。

转换时，优先级按照上述顺序排列。例如，即使普通对象具有 `.toJSON` 函数，但如果同时具有 `.toSurql` 函数，则优先使用 `.toSurql` 函数。

判定普通对象时，使用 [`is-plain-obj`](https://github.com/sindresorhus/is-plain-obj) 库。因此，如果普通对象不具有 `.toSurql` 或 `.toJSON` 函数，并且同时具有 `Symbol.toStringTag` 或 `Symbol.iterator` 属性，则不会将其视为对象，并抛出错误。

#### 返回值

SurrealQL 字符串。

#### 例子

```ts
import { toSurql } from "@tai-kun/surrealdb/utils";

const surql = toSurql({
  bigint: 9007199254740992n, // Number.MAX_SAFE_INTEGER + 1
  boolean: [true, false],
  date: new Date("2024-06-01T12:34:56.789Z"),
  map: new Map([
    [0, {
      toJSON: () => [0, 1],
    }],
  ]),
  null: null,
  number: 123,
  set: new Set([{
    toSurql: () => `<bytes>"hello"`,
  }]),
  string: "文字列",
  undefined: undefined,
});

console.log(surql);
```

输出：

```text
{bigint:9007199254740992,boolean:[true,false],date:d'2024-06-01T12:34:56.789Z',map:{0:[0,1]},null:NULL,number:123,set:[<bytes>"hello"],string:'文字列',undefined:NONE}
```
