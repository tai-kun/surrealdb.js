---
title: getTimeoutSignal
slug: zh-CN/v1/reference/utils/get-timeout-signal
---

`getTimeoutSignal` 函数返回一个将在指定毫秒数后超时的 `AbortSignal` 对象。 该函数用于在不支持 `AbortSignal.timeout()` 的环境中提供替代方案。

### 导入

```ts
import { getTimeoutSignal } from "@tai-kun/surrealdb/utils";
```

### 使用方法

```ts
function getTimeoutSignal(milliseconds: number): AbortSignal;
```

#### 参数

##### `milliseconds`

设置超时时长，单位为毫秒。

#### 返回值

返回一个新的 `AbortSignal` 对象。

#### 异常

在服务器端运行时，如果 `AbortSignal.timeout` 函数不存在，则会抛出错误。 这是因为实现 polyfill 成本较高。 在浏览器中，该函数是通过一种略为强硬的方式实现的。

#### 示例

以下示例展示了如何使用 `getTimeoutSignal` 函数使 `fetch` 在 5 秒后超时：

```ts
import { getTimeoutSignal } from "@tai-kun/surrealdb/utils";

const resp = await fetch("https://example.com/", {
  signal: getTimeoutSignal(5000),
});
```
