---
title: Decimal
slug: zh-CN/v2/api/data/decimal
---

import Badge from "~/components/zh-CN/Badge.astro";

`Decimal` 是用于表示任意精度实数的类。当预设为 `standard` 时，它将继承 [`big.js`](https://github.com/MikeMcl/big.js) 的类。这可能会导致 `.toString()` 方法等结果在不同预设之间不一致。

### 导入

```ts
import { Decimal } from "@tai-kun/surrealdb/decodeonly-datatypes";
import { Decimal } from "@tai-kun/surrealdb/encodable-datatypes";
import { Decimal } from "@tai-kun/surrealdb/standard-datatypes";
```

### `.constructor()`

创建一个新的 `Decimal` 对象。

```ts
new Decimal(source: string); // decode-only, encodable
new Decimal(source: string | number | Decimal); // standard
```

#### 参数

##### `source`

以字符串形式表示的实数。当预设为 `standard` 时，也可以传入数字。

#### 返回值

当通过 `new` 调用时，`Decimal` 将返回其实例。

### `.toString()` <Badge variant="instance" /><Badge variant="method" /><Badge variant="decodeonly" />

获取实数的字符串表示。

#### 参数

无。

#### 返回值

返回实数的字符串表示。

### `.toSurql()` <Badge variant="instance" /><Badge variant="method" /><Badge variant="encodable" />

将 `Decimal` 对象转换为可以嵌入 SurrealQL 的字符串。类似于 `.toString()`，但会添加 `dec` 后缀，以便让查询解析器知道该字符串是 `decimal` 类型。

```ts
.toSurql(): string;
```

#### 参数

无。

#### 返回值

返回带有 `dec` 后缀的实数。

#### 例子

```ts
import { Decimal } from "@tai-kun/surrealdb/encodable-datatypes";

const decimal = new Decimal("3.14");
console.log(decimal.toSurql());
//-> 3.14dec
```

### `.clone()` <Badge variant="instance" /><Badge variant="method" /><Badge variant="standard" />

复制 `Decimal` 对象。

```ts
.clone(): this;
```

#### 参数

无。

#### 返回值

返回一个新的 `Decimal` 对象。如果继承了 `Decimal` 类，则返回该类的实例。

### 其他方法

如果使用 `standard` 预设，则 `Decimal` 类将继承 `big.js` 的 `Big` 类，因此实例方法和属性请参考 `big.js` 文档：

[`big.js` 文档](https://mikemcl.github.io/big.js/#prototype-methods)

### 拓展

#### `Decimal` 对象的通用判断

建议使用 `isDecimal` 函数来判断值是否为 `Decimal` 对象，而无需依赖预设。此函数不使用 `instanceof`，因此在验证值预设未知的情况下非常有用。

```ts
import { isDecimal } from "@tai-kun/surrealdb";
```
